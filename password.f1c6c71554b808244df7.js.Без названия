(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1126:function(e,t,n){"use strict";var a=n(0),i=n(1),s=n(32),o=n(36),r=n(5),c=n(6);t.a={name:"password",data:function(){return{}},created:function(){return Object(i.a)(Object(a.a)().m((function e(){return Object(a.a)().w((function(e){for(;;)if(0===e.n)return e.a(2)}),e)})))()},methods:{sendVerifySmsCode:function(e){var t=this;return Object(i.a)(Object(a.a)().m((function n(){return Object(a.a)().w((function(n){for(;;)switch(n.n){case 0:return n.n=1,s.z.phoneSend(t.useType,e);case 1:n.v&&(t.isSend=!0,r.b.$emit(c.a.successMessage,t.$t("login.sendToPhone")),t.smsCountdown=60,o.a&&o.a.remove("veriSmsCountDown"),t.startSmsCountDown());case 2:return n.a(2)}}),n)})))()},sendVerifyCode:function(){var e=this;return Object(i.a)(Object(a.a)().m((function t(){return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,s.z.emailSend(e.useType);case 1:t.v&&(r.b.$emit(c.a.successMessage,e.$t("login.sendToEmail")),e.countdown=60,o.a&&o.a.remove("veriCountDown"),e.startCountDown());case 2:return t.a(2)}}),t)})))()},jump:function(e){r.b.$emit(c.a.routerJumpPath,{path:e,isLang:!0,site:"global"})},startSmsCountDown:function(){var e=this;o.a&&o.a.on("veriSmsCountDown",1,(function(){e.smsCountdown--,e.smsCountdown<0&&o.a&&o.a.remove("veriSmsCountDown")}))},startCountDown:function(){var e=this;o.a&&o.a.on("veriCountDown",1,(function(){e.countdown--,e.countdown<0&&o.a&&o.a.remove("veriCountDown")}))}}}},1127:function(e,t,n){"use strict";var a=n(938);n.n(a).a},1273:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiA2QzEyIDIuNjg2MjkgOS4zMTM3MSAwIDYgMEMyLjY4NjI5IDAgMCAyLjY4NjI5IDAgNkMwIDkuMzEzNzEgMi42ODYyOSAxMiA2IDEyQzkuMzEzNzEgMTIgMTIgOS4zMTM3MSAxMiA2Wk02Ljc1IDUuNzgzNTlDNi43NSA1LjM1MTQ3IDYuNDEyNTQgNC45OTggNiA0Ljk5OEM1LjU4NzQ2IDQuOTk4IDUuMjUgNS4zNTE0NyA1LjI1IDUuNzgzNTlWOC43MTI0MUM1LjI1IDkuMTQ0NTMgNS41ODc0NiA5LjQ5OCA2IDkuNDk4QzYuNDEyNTQgOS40OTggNi43NSA5LjE0NDUzIDYuNzUgOC43MTI0MVY1Ljc4MzU5Wk01LjI1IDMuMjQ3OTVDNS4yNSAyLjgzMzc0IDUuNTg1NzkgMi40OTc5NSA2IDIuNDk3OTVDNi40MTQyMSAyLjQ5Nzk1IDYuNzUgMi44MzM3NCA2Ljc1IDMuMjQ3OTVDNi43NSAzLjY2MjE2IDYuNDE0MjEgMy45OTc5NSA2IDMuOTk3OTVDNS41ODU3OSAzLjk5Nzk1IDUuMjUgMy42NjIxNiA1LjI1IDMuMjQ3OTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"},1274:function(e,t,n){"use strict";var a=n(939);n.n(a).a},1275:function(e,t,n){"use strict";var a=n(940);n.n(a).a},1633:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hb-dialog hb-reiview new-nickname-modal"},[a("div",{staticClass:"hb-dialog__header"},[a("span",{staticClass:"hb-dialog__title"},[e._v(e._s(e.$t("quickTrade.tradeSetting")))]),e.modal.notClose?e._e():a("button",{staticClass:"hb-dialog__headerbtn",attrs:{type:"button"},on:{click:e.handleClose}},[a("i",{staticClass:"iconfont icon-close"})])]),a("div",{staticClass:"hb-dialog__body"},[e.isLoading?a("loading"):e._e(),a("p",{staticClass:"modal-desc"},[a("img",{attrs:{src:n(1273)}}),e._v(" "+e._s(e.$t("userCenter.nickNameModal.settingDesc"))+"\n        ")]),a("div",{staticClass:"sc-content"},[a("div",{staticClass:"setting-security fix-height flex-between-center"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[a("span",[e._v(e._s(e.$t("userCenter.nickNameModal.nickName")))])])]),a("div",{staticClass:"status",on:{click:e.toChangeNickName}},[e._v("\n                    "+e._s(e.userInfo.userName||e.$t("userCenter.nickNameModal.noSet"))+"\n                    "),e.userInfo.isCanModifyName||e.userInfo.canModifyNameSecond?a("i",{staticClass:"iconfont icon-small-icon"}):e._e()])]),a("div",{staticClass:"setting-security fix-height flex-between-center"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[a("span",[e._v(e._s(e.$t("userCenter.passkey")))])])]),a("div",{staticClass:"status",on:{click:e.jumpBindPasskey}},[e._v("\n                    "+e._s(e.securityInfo.bind_pass_key?e.$t("userCenter.nickNameModal.opened"):e.$t("userCenter.nickNameModal.noOpen"))+"\n                    "),a("i",{staticClass:"iconfont icon-small-icon"})])]),e.showSmsSwitch?a("div",{staticClass:"setting-security flex-between-center"},[a("div",[e._v(e._s(e.$t("userCenter.mobilePhone")))]),1==e.securityRule.ucPhoneStatus?a("div",{staticClass:"status",on:{click:function(t){e.jumpUserCenter("bind",e.$t("userCenter.nickNameModal.bindPhone"))}}},[e._v("\n                    "+e._s(e.$t("userCenter.nickNameModal.noBind"))+"\n                    "),a("i",{staticClass:"iconfont icon-small-icon"})]):e._e(),2==e.securityRule.ucPhoneStatus?a("div",{staticClass:"status",on:{click:function(t){e.jumpUserCenter("open",e.$t("userCenter.nickNameModal.openPhone"))}}},[e._v("\n                    "+e._s(e.$t("userCenter.nickNameModal.noOpen"))+"\n                    "),a("i",{staticClass:"iconfont icon-small-icon"})]):e._e(),3==e.securityRule.ucPhoneStatus?a("div",[a("i-switch",{on:{"on-change":function(t){return e.changeVerify(t,"isPhoneOpened")}},model:{value:e.securityRule.isPhoneOpened,callback:function(t){e.$set(e.securityRule,"isPhoneOpened",t)},expression:"securityRule.isPhoneOpened"}})],1):e._e()]):e._e(),a("div",{staticClass:"setting-security flex-between-center"},[a("div",[e._v("\n                    "+e._s(e.$t("userCenter.GA"))+"\n                ")]),1==e.securityRule.ucGaStatus?a("div",{staticClass:"status",on:{click:e.jumpBindGA}},[e._v("\n                    "+e._s(e.$t("userCenter.nickNameModal.noBind"))+"\n                    "),a("i",{staticClass:"iconfont icon-small-icon"})]):e._e(),2==e.securityRule.ucGaStatus?a("div",{staticClass:"status",on:{click:function(t){e.jumpUserCenter("open",e.$t("userCenter.nickNameModal.openGA"))}}},[e._v("\n                    "+e._s(e.$t("userCenter.nickNameModal.noOpen"))+"\n                    "),a("i",{staticClass:"iconfont icon-small-icon"})]):e._e(),3==e.securityRule.ucGaStatus?a("div",[a("i-switch",{on:{"on-change":function(t){return e.changeVerify(t,"isGaOpened")}},model:{value:e.securityRule.isGaOpened,callback:function(t){e.$set(e.securityRule,"isGaOpened",t)},expression:"securityRule.isGaOpened"}})],1):e._e()]),a("div",{staticClass:"setting-security fix-height flex-between-center"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[e._v("\n                        "+e._s(e.$t("commonInfoText.fundingPassword"))+"\n                    ")]),a("div",{staticClass:"desc"},[e._v("\n                        "+e._s(e.$t("userCenter.nickNameModal.passwordDesc"))+"\n                    ")])]),a("div",{staticClass:"status",on:{click:e.setTradingPassword}},[e._v("\n                    "+e._s(e.securityRule.isTradeBind?e.$t("userCenter.nickNameModal.update"):e.$t("userCenter.nickNameModal.noSet"))+"\n                    "),a("i",{staticClass:"iconfont icon-small-icon"})])]),a("div",{staticClass:"setting-security flex-between-center"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[e._v("\n                        "+e._s(e.$t("userCenter.nickNameModal.telegramBot"))+"\n                    ")]),a("div",{staticClass:"desc"},[e._v("\n                        "+e._s(e.$t("userCenter.nickNameModal.telegramNote"))+"\n                    ")])]),a("div",[a("i-switch",{on:{"on-change":function(t){return e.changeBot(t,"isTelegramOpened")}},model:{value:e.securityRule.isTelegramOpened,callback:function(t){e.$set(e.securityRule,"isTelegramOpened",t)},expression:"securityRule.isTelegramOpened"}})],1)]),a("div",{staticClass:"setting-security flex-between-center"},[a("div",{staticClass:"left"},[e._v(e._s(e.$t("userCenter.soundNotice")))]),a("div",[a("i-switch",{on:{"on-change":function(t){return e.changeSoundNotice(t)}},model:{value:e.soundNotice,callback:function(t){e.soundNotice=t},expression:"soundNotice"}})],1)])])],1),a("div",{staticClass:"hb-dialog__footer"}),a("ChangeNickname",{model:{value:e.showChangeNickname,callback:function(t){e.showChangeNickname=t},expression:"showChangeNickname"}})],1)},i=[],s=n(0),o=n(1),r=(n(136),n(64),n(52),n(94),n(41),n(137),n(86),n(53),n(29),n(85),n(892)),c=n(6),l=n(5),u=n(32),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Modal",{staticClass:"modal",attrs:{value:e.value,width:480,title:e.$t("userCenter.nickNameModal.changeNickname")},on:{"on-cancel":e.close}},[n("div",{staticClass:"content"},[n("div",{staticClass:"tips"},[n("Iconfont",{staticStyle:{"margin-top":"2px"},attrs:{name:"info"}}),n("span",[e._v(e._s(e.$t("userCenter.nickNameModal.nicknameTips",{n:180})))])],1),n("div",{staticClass:"form"},[n("Form",{ref:"form",attrs:{model:e.formData}},[n("Form-item",{attrs:{label:e.$t("userCenter.nickNameModal.nickName")}},[n("Input",{attrs:{size:"large",placeholder:e.$t("userCenter.nickNameModal.inputNickname")},model:{value:e.formData.nickname,callback:function(t){e.$set(e.formData,"nickname",t)},expression:"formData.nickname"}}),!e.formData.nickname||e.nicknameValid?n("div",{staticClass:"tip1"},[e._v(e._s(e.$t("userCenter.nickNameModal.nicknameTip1")))]):n("div",{staticClass:"tip2"},[e._v(e._s(e.$t("userCenter.nickNameModal.nicknameTip2")))])],1)],1)],1)]),n("template",{slot:"footer"},[n("Button",{attrs:{type:"text",size:"large"},on:{click:e.close}},[e._v(e._s(e.$t("commonButtonText.cancel")))]),n("Button",{attrs:{type:"primary",size:"large",disabled:!e.nicknameValid},on:{click:e.confirm}},[e._v(e._s(e.$t("commonButtonText.done")))])],1)],2)],1)},f=[],m=(n(48),n(138),{props:{value:Boolean},data:function(){return{formData:{nickname:""}}},computed:{nicknameValid:function(){return/^[a-zA-Z\u4e00-\u9fa5]+$/.test(this.formData.nickname)}},methods:{close:function(){this.$emit("input",!1)},confirm:function(){var e=this;return Object(o.a)(Object(s.a)().m((function t(){return Object(s.a)().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,u.z.setNickName({name:e.formData.nickname});case 1:if(!t.v){t.n=3;break}return t.n=2,e.$store.dispatch("getUserInfo");case 2:e.close();case 3:return t.a(2)}}),t)})))()}}}),g=(n(1274),n(19)),v=Object(g.a)(m,d,f,!1,null,"7dbea4ae",null).exports,h={name:"nickname-modal",props:{modal:{type:Object,required:!0}},mixins:[r.a],components:{ChangeNickname:v},mounted:function(){var e=this;return Object(o.a)(Object(s.a)().m((function t(){var n,a;return Object(s.a)().w((function(t){for(;;)switch(t.n){case 0:document.addEventListener("visibilitychange",e.handleVisiable);try{n=(e.ucUserInfo||{}).uid||0,a=JSON.parse(localStorage.getItem("c2c_sound_notice_close")||"[]"),e.soundNotice=!a.includes(n)}catch(e){console.error(e)}case 1:return t.a(2)}}),t)})))()},data:function(){return{isTradeBind:!1,removeScroll:!0,showChangeNickname:!1,soundNotice:!0}},computed:{showSmsSwitch:function(){return!this.securityRule.isGaOpened&&this.securityRule.isPhoneOpened}},methods:{toChangeNickName:function(){(this.userInfo.isCanModifyName||this.userInfo.canModifyNameSecond)&&(this.showChangeNickname=!0)},handleVisiable:function(e){switch(e.target.visibilityState){case"hidden":console.log("离开了");break;case"visible":this.getVerifyWay(),this.getUcSecurityInfo()}},setTradingPassword:function(){l.b.$emit(c.a.showTips,{component:"passwordModal",forbidMarkClose:!1,removeScroll:!0,callback:this.getVerifyWay})},changeVerify:function(e,t){var n=this;return Object(o.a)(Object(s.a)().m((function a(){return Object(s.a)().w((function(a){for(;;)switch(a.n){case 0:return n.isLoading=!0,a.n=1,n.$MessageBox({type:"info",removeScroll:!0,content:e?n.$t("securitySetting.confirmUse"):n.$t("securitySetting.confirmClose")});case 1:if("confirm"!=a.v){a.n=3;break}return a.n=2,n.setVerifyWays(!0,t);case 2:a.v||(n.securityRule[t]=!e),a.n=4;break;case 3:n.securityRule[t]=!e;case 4:n.isLoading=!1;case 5:return a.a(2)}}),a)})))()},changeBot:function(e,t){var n=this;return Object(o.a)(Object(s.a)().m((function a(){var i,res;return Object(s.a)().w((function(a){for(;;)switch(a.n){case 0:if(i={tgBotCode:"HTX_EXCHANGE_BOT"},!e){a.n=4;break}return n.isLoading=!0,a.n=1,u.z.openTelegram(i);case 1:if(200===(res=a.v).code){a.n=2;break}return n.securityRule[t]=!e,n.isLoading=!1,a.a(2);case 2:return n.isLoading=!1,a.n=3,n.$MessageBox({type:"info",title:n.$t("userCenter.nickNameModal.operation"),content:n.$t("userCenter.nickNameModal.operationDesc"),okText:n.$t("tradeList.perfectTradeInfo")});case 3:"confirm"==a.v?window.open(res.data&&res.data.requestUrl):n.securityRule[t]=!e,n.isLoading=!1,a.n=6;break;case 4:return a.n=5,u.z.closeTelegram(i);case 5:200===a.v.code?n.securityRule[t]=e:n.securityRule[t]=!e;case 6:return a.a(2)}}),a)})))()},changeSoundNotice:function(e){try{var t=(this.ucUserInfo||{}).uid||0,n=JSON.parse(localStorage.getItem("c2c_sound_notice_close")||"[]");e?n=n.filter((function(e){return e!==t})):n.push(t),localStorage.setItem("c2c_sound_notice_close",JSON.stringify(n))}catch(e){console.error(e)}},updateVerifyWays:function(){var e=this;return Object(o.a)(Object(s.a)().m((function t(){var n,a,i;return Object(s.a)().w((function(t){for(;;)switch(t.n){case 0:return e.loading=!0,t.n=1,e.verifySecurity({removeScroll:!0,otcVerify:!1});case 1:if((n=t.v).success){t.n=2;break}return t.a(2);case 2:return a={securityToken:n.authToken,verifyMailSwitch:!1,verifyPhoneSwitch:e.securityRule.isPhoneOpened,verifyGaSwitch:e.securityRule.isGaOpened},t.n=3,u.z.setVerifyWay(!1,a);case 3:if(i=t.v,e.loading=!1,!i){t.n=5;break}return t.n=4,e.$store.dispatch("getUserInfo");case 4:e.$emit("back");case 5:return t.a(2)}}),t)})))()}},destroyed:function(){document.removeEventListener("visibilitychange",this.handleVisiable)}},b=(n(848),n(1275),Object(g.a)(h,a,i,!1,null,null,null));t.default=b.exports},1705:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal-fade",mode:"out-in"}},[e.stepEnd?n("div",{key:"2",staticClass:"hb-dialog password-dialog"},[n("div",{staticClass:"hb-dialog__header"},[n("span",{staticClass:"hb-dialog__title"},[e._v(e._s(e.$t("login.verifyTitle.item1")))]),n("button",{staticClass:"hb-dialog__headerbtn",attrs:{type:"button"},on:{click:e.handleClose}},[n("i",{staticClass:"iconfont icon-close"})])]),n("div",{staticClass:"hb-dialog__body"},[n("Form",{ref:"codeDataRef",attrs:{model:e.formData,"label-position":"top",rules:e.formDataRule}},[e.validationRule.verify_phone?n("FormItem",{attrs:{label:e.$t("login.verifyInput.code2"),prop:"smsCode"}},[n("div",{staticClass:"code-input"},[n("i-input",{attrs:{autocomplete:"off",size:"large",maxlength:6},model:{value:e.formData.smsCode,callback:function(t){e.$set(e.formData,"smsCode",t)},expression:"formData.smsCode"}}),n("span",{staticClass:"send-btn"},[e.smsCountdown>=0?n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color"},[e._v(e._s(e.smsCountdown)+"s")]),e._v("\n                                "+e._s(e.$t("login.resendCode"))+"\n                            ")]):n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color",on:{click:function(t){return e.sendVerifySmsCode(!1)}}},[e._v(e._s(e.$t("login.receiveCode")))]),e.isSend?n("span",[e._v(e._s(e.$t("userCenter.passwordModal.and"))),n("a",{staticClass:"button-color",on:{click:function(t){return e.sendVerifySmsCode(!0)}}},[e._v(e._s(e.$t("userCenter.passwordModal.voiceVerification")))])]):e._e()])])],1),n("div",{staticClass:"code-notice font-gray"},[e._v("\n                        "+e._s(e.$t("login.verifyLable.lable2",{type:e.userInfo.phone}))+"\n                    ")])]):e._e(),e.validationRule.verify_email?n("FormItem",{attrs:{label:e.$t("login.verifyInput.code3"),prop:"emailCode"}},[n("div",{staticClass:"code-input"},[n("i-input",{attrs:{autocomplete:"off",size:"large",maxlength:6},model:{value:e.formData.emailCode,callback:function(t){e.$set(e.formData,"emailCode",t)},expression:"formData.emailCode"}}),n("span",{staticClass:"send-btn"},[e.countdown>=0?n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color"},[e._v(e._s(e.countdown)+"s")]),e._v("\n                                "+e._s(e.$t("login.resendCode"))+"\n                            ")]):n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color",on:{click:function(t){return e.sendVerifyCode(!1)}}},[e._v(e._s(e.$t("login.receiveCode")))])])])],1),n("div",{staticClass:"code-notice font-gray"},[e._v("\n                        "+e._s(e.$t("login.verifyLable.lable3",{type:e.userInfo.email}))+"\n                    ")])]):e._e(),e.validationRule.verify_ga?n("FormItem",{attrs:{label:e.$t("login.verifyInput.code1"),prop:"gaCode"}},[n("i-input",{attrs:{autocomplete:"off",size:"large",maxlength:6},model:{value:e.formData.gaCode,callback:function(t){e.$set(e.formData,"gaCode",t)},expression:"formData.gaCode"}})],1):e._e(),n("a",{staticClass:"safety-lost-link",on:{click:function(t){t.stopPropagation(),e.jump(e.isGlobalApp()?"/account/security-reset-h5/":"/account/security-reset/")}}},[e._v(e._s(e.$t("login.securityLost")))])],1)],1),n("div",{staticClass:"hb-dialog__footer"},[e.modal.notClose?e._e():n("otc-btn",{attrs:{type:"text",size:"large"},on:{handleClick:e.handleClose}},[e._v(e._s(e.$t("commonButtonText.cancel")))]),n("otc-btn",{attrs:{loading:e.loading,size:"large"},on:{handleClick:e.handleCodeSubmit}},[e._v(e._s(e.modal.btnText||e.$t("commonButtonText.confirm")))])],1)]):n("div",{key:"1",staticClass:"hb-dialog"},[n("div",{staticClass:"hb-dialog__header"},[n("span",{staticClass:"hb-dialog__title"},[e._v(e._s(e.userInfo.isTradeBind?e.$t("userCenter.passwordModal.reset"):e.$t("userCenter.passwordModal.set")))]),n("button",{staticClass:"hb-dialog__headerbtn",attrs:{type:"button"},on:{click:e.handleClose}},[n("i",{staticClass:"iconfont icon-close"})])]),n("div",{staticClass:"hb-dialog__body"},[n("Form",{ref:"passwordDataRef",attrs:{model:e.formData,"label-position":"top",rules:e.formDataRule}},[n("FormItem",{attrs:{label:e.userInfo.isTradeBind?e.$t("userCenter.passwordModal.newFoundingPwd"):e.$t("userCenter.passwordModal.foundingPwd"),prop:"foundingPwd"}},[n("i-input",{attrs:{autocomplete:"off",size:"large",type:"password"},model:{value:e.formData.foundingPwd,callback:function(t){e.$set(e.formData,"foundingPwd",t)},expression:"formData.foundingPwd"}})],1),n("FormItem",{staticClass:"items",attrs:{label:e.$t("userCenter.passwordModal.confirmPwd"),prop:"confirmPwd"}},[n("i-input",{attrs:{autocomplete:"off",size:"large",type:"password"},model:{value:e.formData.confirmPwd,callback:function(t){e.$set(e.formData,"confirmPwd",t)},expression:"formData.confirmPwd"}})],1)],1)],1),n("div",{staticClass:"hb-dialog__footer"},[e.modal.notClose?e._e():n("otc-btn",{attrs:{type:"text",size:"large"},on:{handleClick:e.handleClose}},[e._v(e._s(e.$t("commonButtonText.cancel")))]),n("otc-btn",{attrs:{loading:e.loading,size:"large"},on:{handleClick:e.handleSubmit}},[e._v(e._s(e.modal.btnText||e.$t("commonButtonText.confirm")))])],1)])])},i=[],s=n(0),o=n(1),r=n(11),c=(n(323),n(154),n(48),n(138),n(39)),l=n(36),u=n(1126),d=n(32),f={name:"password-modal",props:{modal:{type:Object,required:!0}},mixins:[u.a],data:function(){var e=this;return{loading:!1,stepEnd:!1,isSend:!1,countdown:-1,smsCountdown:-1,validationRule:{},formData:{foundingPwd:"",confirmPwd:"",smsCode:"",emailCode:"",gaCode:""},formDataRule:{foundingPwd:[{validator:function(t,n,a){return n?/^[a-zA-Z]{1}[\da-zA-Z_~!@#$%^&.*]{7,31}$/.test(n)?void a():a(new Error(e.$t("userCenter.nickNameModal.noticeTipThree"))):a(new Error(e.$t("userCenter.nickNameModal.fundingPwdTipOne")))},trigger:"blur"}],confirmPwd:[{validator:function(t,n,a){return n?n!==e.formData.foundingPwd?a(new Error(e.$t("userCenter.nickNameModal.noticeTipFour"))):void a():a(new Error(e.$t("userCenter.nickNameModal.fundingPwdTipTwo")))},trigger:"blur"}],smsCode:[{validator:function(t,n,a){if(!n)return a(new Error(e.$t("login.phoneVerification")));a()},trigger:"blur"}],emailCode:[{validator:function(t,n,a){if(!n)return a(new Error(e.$t("login.emailVerification")));a()},trigger:"blur"}],gaCode:[{validator:function(t,n,a){if(!n)return a(new Error(e.$t("login.googlePlaceholder")));a()},trigger:"blur"}]},useType:"VERIFY_SETTING_POLICY_RESET_OTC_ASSET_PASSWORD"}},mounted:function(){this.init()},computed:Object(r.a)({},Object(c.b)({userInfo:"getUserBaseInfo"})),methods:{init:function(){var e=this;return Object(o.a)(Object(s.a)().m((function t(){return Object(s.a)().w((function(t){for(;;)switch(t.n){case 0:return e.loading=!0,t.n=1,d.z.getUcValidationRule();case 1:e.validationRule=t.v,e.loading=!1;case 2:return t.a(2)}}),t)})))()},handleSubmit:function(e){var t=this;e.target.disabled=!0,this.$refs.passwordDataRef.validate(function(){var n=Object(o.a)(Object(s.a)().m((function n(a){return Object(s.a)().w((function(n){for(;;)switch(n.n){case 0:e.target.disabled=!1,a&&(t.userInfo.isTradeBind?t.stepEnd=!0:t.fundPasswordCheck({tradePass:t.formData.foundingPwd}));case 1:return n.a(2)}}),n)})));return function(e){return n.apply(this,arguments)}}())},handleCodeSubmit:function(e){var t=this;e.target.disabled=!0,this.$refs.codeDataRef.validate(function(){var n=Object(o.a)(Object(s.a)().m((function n(a){var i;return Object(s.a)().w((function(n){for(;;)switch(n.n){case 0:e.target.disabled=!1,a&&(i={tradePass:t.formData.foundingPwd,smsCode:t.formData.smsCode,emailCode:t.formData.emailCode,gaCode:t.formData.gaCode},t.fundPasswordCheck(i));case 1:return n.a(2)}}),n)})));return function(e){return n.apply(this,arguments)}}())},fundPasswordCheck:function(e){var t=this;return Object(o.a)(Object(s.a)().m((function n(){var a,i;return Object(s.a)().w((function(n){for(;;)switch(n.n){case 0:return n.n=1,d.E.getUcAuthorizationInfo({auth_use_type:"ASSET_PASSWORD_CHECK"});case 1:a=n.v,i=a&&a.auth_token||"",t.resetFoundingPwd(Object(r.a)({authToken:i},e));case 2:return n.a(2)}}),n)})))()},resetFoundingPwd:function(e){var t=this;return Object(o.a)(Object(s.a)().m((function n(){var a;return Object(s.a)().w((function(n){for(;;)switch(n.n){case 0:if(t.loading=!0,a=!1,!t.userInfo.isTradeBind){n.n=2;break}return n.n=1,d.z.resetCapitalPwd(e);case 1:a=n.v,n.n=4;break;case 2:return n.n=3,d.z.setCapitalPwd(e);case 3:(a=n.v)&&(t.$store.commit("updateUserBaseInfo",Object(r.a)(Object(r.a)({},t.userInfo),{},{isTradeBind:!0})),"function"==typeof t.modal.callback&&t.modal.callback());case 4:t.loading=!1,a&&t.handleClose();case 5:return n.a(2)}}),n)})))()},cancelHandle:function(){var e="fund-paw-check-switch-".concat(this.userInfo&&this.userInfo.uid);localStorage.setItem(e,"false")},handleClose:function(){this.cancelHandle(),this.$emit("close",{callback:this.modal.callback})}},beforeDestroy:function(){l.a&&l.a.remove("veriCountDown")}},m=f,g=(n(1127),n(19)),v=Object(g.a)(m,a,i,!1,null,null,null);t.default=v.exports},1706:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hb-dialog password-dialog"},[n("div",{staticClass:"hb-dialog__header"},[n("span",{staticClass:"hb-dialog__title"},[e._v(e._s(e.$t("login.verifyTitle.item1")))]),n("button",{staticClass:"hb-dialog__headerbtn",attrs:{type:"button"},on:{click:e.handleClose}},[n("i",{staticClass:"iconfont icon-close"})])]),n("div",{staticClass:"hb-dialog__body"},[e.usingTradingPassword?n("form",{attrs:{autocomplete:"off"}},[n("i-input",{attrs:{placeholder:e.$t("commonInfoText.fundingPassword"),autocomplete:"new-password",size:"large",type:"password"},model:{value:e.tradingPassword,callback:function(t){e.tradingPassword=t},expression:"tradingPassword"}})],1):n("Form",{ref:"codeDataRef",attrs:{model:e.formData,"label-position":"top",rules:e.formDataRule},nativeOn:{submit:function(e){e.preventDefault()}}},[e.validationRule.verify_phone?n("FormItem",{attrs:{prop:"smsCode"}},[n("div",{staticClass:"code-input"},[n("i-input",{attrs:{placeholder:e.$t("login.verifyInput.code2"),autocomplete:"off",size:"large",maxlength:6},model:{value:e.formData.smsCode,callback:function(t){e.$set(e.formData,"smsCode",t)},expression:"formData.smsCode"}}),n("span",{staticClass:"send-btn"},[e.smsCountdown>=0?n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color"},[e._v(e._s(e.smsCountdown)+"s")]),e._v("\n                            "+e._s(e.$t("login.resendCode"))+"\n                        ")]):n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color",on:{click:function(t){return e.sendVerifySmsCode(!1)}}},[e._v(e._s(e.$t("login.receiveCode")))]),e.isSend?n("span",[e._v(e._s(e.$t("userCenter.passwordModal.and"))),n("a",{staticClass:"button-color",on:{click:function(t){return e.sendVerifySmsCode(!0)}}},[e._v(e._s(e.$t("userCenter.passwordModal.voiceVerification")))])]):e._e()])])],1),n("div",{staticClass:"code-notice font-gray"},[e._v("\n                    "+e._s(e.$t("login.verifyLable.lable2",{type:e.securityInfo.phone}))+"\n                ")])]):e._e(),e.validationRule.verify_email?n("FormItem",{attrs:{prop:"emailCode"}},[n("div",{staticClass:"code-input"},[n("i-input",{attrs:{placeholder:e.$t("login.verifyInput.code3"),autocomplete:"off",size:"large",maxlength:6},model:{value:e.formData.emailCode,callback:function(t){e.$set(e.formData,"emailCode",t)},expression:"formData.emailCode"}}),n("span",{staticClass:"send-btn"},[e.countdown>=0?n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color"},[e._v(e._s(e.countdown)+"s")]),e._v("\n                            "+e._s(e.$t("login.resendCode"))+"\n                        ")]):n("span",{staticClass:"font-gray"},[n("a",{staticClass:"button-color",on:{click:function(t){return e.sendVerifyCode(!1)}}},[e._v(e._s(e.$t("login.receiveCode")))])])])],1),n("div",{staticClass:"code-notice font-gray"},[e._v("\n                    "+e._s(e.$t("login.verifyLable.lable3",{type:e.securityInfo.email}))+"\n                ")])]):e._e(),e.validationRule.verify_ga?n("FormItem",{attrs:{prop:"gaCode"}},[n("i-input",{attrs:{placeholder:e.$t("login.verifyInput.code1"),autocomplete:"off",size:"large",maxlength:6},model:{value:e.formData.gaCode,callback:function(t){e.$set(e.formData,"gaCode",t)},expression:"formData.gaCode"}})],1):e._e(),n("a",{staticClass:"safety-lost-link",on:{click:function(t){t.stopPropagation(),e.jump(e.isGlobalApp()?"/account/security-reset-h5/":"/account/security-reset/")}}},[e._v(e._s(e.$t("login.securityLost")))])],1)],1),n("div",{staticClass:"hb-dialog__footer"},[this.modal.otcVerify&&this.modal.isTradeBind?n("div",{staticClass:"change-verify",on:{click:e.changeVerify}},[e._v("\n            "+e._s(e.usingTradingPassword?e.$t("userCenter.nickNameModal.useSecurity"):e.$t("userCenter.nickNameModal.useTradingPassword"))+"\n        ")]):e._e(),n("otc-btn",{attrs:{type:"text",size:"large"},on:{handleClick:e.handleClose}},[e._v(e._s(e.$t("commonButtonText.cancel")))]),n("otc-btn",{attrs:{loading:e.loading,size:"large"},on:{handleClick:e.handleCodeSubmit}},[e._v(e._s(e.modal.btnText||e.$t("commonButtonText.confirm")))])],1)])},i=[],s=n(0),o=n(1),r=(n(323),n(154),n(36)),c=n(811),l=n(1126),u=n(32),d=n(5),f=n(6),m=n(87),g={name:"password-modal",components:{loading:c.a},mixins:[l.a,m.a],props:{modal:{type:Object,required:!0}},data:function(){var e=this;return{loading:!1,isSend:!1,countdown:-1,smsCountdown:-1,validationRule:{verify_email:!1,verify_ga:!1,verify_phone:!1},tradingPassword:"",formData:{smsCode:"",emailCode:"",gaCode:""},securityInfo:{},isTradeBind:!1,formDataRule:{smsCode:[{validator:function(t,n,a){if(!n)return a(new Error(e.$t("login.phoneVerification")));a()},trigger:"blur"}],emailCode:[{validator:function(t,n,a){if(!n)return a(new Error(e.$t("login.emailVerification")));a()},trigger:"blur"}],gaCode:[{validator:function(t,n,a){if(!n)return a(new Error(e.$t("login.googlePlaceholder")));a()},trigger:"blur"}]},usingTradingPassword:!1,useType:"VERIFY_SETTING_POLICY_OTC_FUND_PASSWORD"}},mounted:function(){this.init()},methods:{enterFun:function(){return this.handleCodeSubmit(),!1},init:function(){this.modal.otcVerify?(this.validationRule.verify_phone=this.modal.isPhoneOpened&&!this.modal.isGaOpened,this.validationRule.verify_ga=this.modal.isGaOpened,this.validationRule.verify_email=this.modal.isMailOpened,this.usingTradingPassword=this.modal.isTradeBind):(this.validationRule.verify_phone=3==this.modal.ucPhoneStatus,this.validationRule.verify_ga=3==this.modal.ucGaStatus,this.validationRule.verify_email=3==this.modal.ucMailStatus)},handleCodeSubmit:function(e){var t=this;this.usingTradingPassword?(this.modal.callback({success:!0,tradingPassword:this.tradingPassword}),this.$emit("close")):(e.target.disabled=!0,this.$refs.codeDataRef.validate(function(){var n=Object(o.a)(Object(s.a)().m((function n(a){var i;return Object(s.a)().w((function(n){for(;;)switch(n.n){case 0:e.target.disabled=!1,a&&(i={tradePass:t.formData.foundingPwd,smsCode:t.formData.smsCode,emailCode:t.formData.emailCode,gaCode:t.formData.gaCode},t.securityCheck(i));case 1:return n.a(2)}}),n)})));return function(e){return n.apply(this,arguments)}}()))},securityCheck:function(e){var t=this;return Object(o.a)(Object(s.a)().m((function n(){var a,i;return Object(s.a)().w((function(n){for(;;)switch(n.n){case 0:return n.n=1,t.initVulcanInfo(110);case 1:return e.vToken=t.vulcanScenes.vToken,n.n=2,u.z.otcSecurityVerify(e);case 2:a=n.v,(i=a&&a.token)?t.modal.callback({success:!0,authToken:i}):t.modal.callback({success:!1}),t.$emit("close");case 3:return n.a(2)}}),n)})))()},changeVerify:function(){var e=this;return Object(o.a)(Object(s.a)().m((function t(){var n,a;return Object(s.a)().w((function(t){for(;;)switch(t.n){case 0:if(!e.usingTradingPassword){t.n=8;break}if(!e.modal.securityInfo.bind_pass_key||!e.supportPasskey()){t.n=2;break}return t.n=1,e.passkeyVerify();case 1:if(!(n=t.v)){t.n=2;break}return e.modal.callback(n),e.$emit("close"),t.a(2);case 2:if(e.validationRule.verify_ga){t.n=5;break}return t.n=3,e.$MessageBox({type:"info",removeScroll:!0,content:e.$t("securitySetting.SecurityOpen"),okText:e.$t("adList.on")});case 3:if("confirm"!=t.v){t.n=4;break}return e.handleClose(),d.b.$emit(f.a.showTips,{component:"securitySettingModal",forbidMarkClose:!0}),t.a(2);case 4:return t.a(2);case 5:if(!(e.modal.isGaOpened&&2==e.modal.ucGaStatus)){t.n=8;break}return t.n=6,e.$MessageBox({type:"info",removeScroll:!0,content:e.$t("securitySetting.GASecurityClosed"),okText:e.$t("adList.on")});case 6:if("confirm"!=t.v){t.n=7;break}return e.isGlobalIos()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/securityCenter/index","_self"):e.isGlobalAndroid()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/account/security","_self"):(a=e.jumpHbProHost+"/user-center/security/",window.open(a,"_blank")),e.handleClose(),t.a(2);case 7:return t.a(2);case 8:e.usingTradingPassword=!e.usingTradingPassword;case 9:return t.a(2)}}),t)})))()},handleClose:function(){this.modal.callback({success:!1}),this.$emit("close")}},beforeDestroy:function(){r.a&&r.a.remove("veriCountDown")}},v=g,h=(n(1127),n(19)),b=Object(h.a)(v,a,i,!1,null,null,null);t.default=b.exports},810:function(e,t,n){},811:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-box"},[n("Spin",{attrs:{fix:""}},[n("div",{staticClass:"loader"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{pre:!0,attrs:{class:"path",cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"5","stroke-miterlimit":"10"}})])])])],1)},i=[],s={name:"spin-col-loading"},o=(n(812),n(19)),r=Object(o.a)(s,a,i,!1,null,null,null);t.a=r.exports},812:function(e,t,n){"use strict";var a=n(810);n.n(a).a},817:function(e,t,n){},848:function(e,t,n){"use strict";var a=n(817);n.n(a).a},892:function(e,t,n){"use strict";var a=n(0),i=n(1),s=(n(64),n(29),n(85),n(32)),o=n(811);t.a={name:"security",components:{loading:o.a},mounted:function(){var e=this;return Object(i.a)(Object(a.a)().m((function t(){return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:return navigator.credentials&&navigator.credentials.get||(e.browserNotSupport=!0),"www.htx.com"===location.hostname||location.hostname.includes("www.global-base")||(e.domainNotSupport=!0),t.n=1,e.getUcSecurityInfo();case 1:return t.n=2,e.getVerifyWay();case 2:return t.a(2)}}),t)})))()},data:function(){return{securityRule:{isTelegramOpened:!1,isTradeBind:!1,isPhoneOpened:!1,isMailOpened:!1,isGaOpened:!1,ucPhoneStatus:1,ucMailStatus:1,ucGaStatus:1},isLoading:!0,securityInfo:{},browserNotSupport:!1,domainNotSupport:!1}},methods:{getVerifyWay:function(){var e=this;return Object(i.a)(Object(a.a)().m((function t(){return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:return e.isLoading=!0,t.n=1,s.z.getVerifyWay();case 1:e.securityRule=t.v,e.isLoading=!1;case 2:return t.a(2)}}),t)})))()},getUcSecurityInfo:function(){var e=this;return Object(i.a)(Object(a.a)().m((function t(){return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,s.z.getUcSecurityInfo();case 1:e.securityInfo=t.v;case 2:return t.a(2)}}),t)})))()},setVerifyWays:function(e){var t=this;return Object(i.a)(Object(a.a)().m((function n(){var i,o,r;return Object(a.a)().w((function(n){for(;;)switch(n.n){case 0:return t.loading=!0,n.n=1,t.verifySecurity({removeScroll:t.removeScroll,otcVerify:!1});case 1:if((i=n.v).success){n.n=2;break}return n.a(2,Promise.resolve(!1));case 2:return o={securityToken:i.authToken,verifyMailSwitch:!1,verifyPhoneSwitch:t.securityRule.isPhoneOpened,verifyGaSwitch:t.securityRule.isGaOpened},e||(o.nickName=t.realNameInfo.nickName),n.n=3,s.z.setVerifyWay(e,o);case 3:if(r=n.v,t.loading=!1,!r){n.n=7;break}if(e){n.n=5;break}return n.n=4,t.$store.dispatch("getUserInfo");case 4:t.handleClose(),t.$emit("back"),n.n=6;break;case 5:t.$emit("back");case 6:return n.a(2,Promise.resolve(!0));case 7:return n.a(2)}}),n)})))()},jumpUserCenter:function(e,t){var n=this;return Object(i.a)(Object(a.a)().m((function e(){var t;return Object(a.a)().w((function(e){for(;;)switch(e.n){case 0:n.isGlobalAndroid()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/account/security","_self"):n.isGlobalIos()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/securityCenter/index","_self"):(t=n.jumpHbProHost+"/user-center/security/",window.open(t,"_blank"));case 1:return e.a(2)}}),e)})))()},jumpBindGA:function(){var e=this;return Object(i.a)(Object(a.a)().m((function t(){var n;return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:e.isGlobalAndroid()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/account/security","_self"):e.isGlobalIos()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/securityCenter/index","_self"):(n=e.jumpHbProHost+"/user-center/bind-ga/",window.open(n,"_blank"));case 1:return t.a(2)}}),t)})))()},jumpBindPasskey:function(){var e=this;return Object(i.a)(Object(a.a)().m((function t(){var n;return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:e.isGlobalAndroid()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/account/security","_self"):e.isGlobalIos()?window.open("holigeit://open/v1?url=ihuobiglobal://m.hbg.com/securityCenter/index","_self"):(n=e.jumpHbProHost+"/user-center/manage-access-key/",window.open(n,"_blank"));case 1:return t.a(2)}}),t)})))()},handleClose:function(){this.$emit("close")}}}},938:function(e,t,n){},939:function(e,t,n){},940:function(e,t,n){}}]);